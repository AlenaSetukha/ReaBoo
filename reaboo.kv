<MyScreenManager>:
    MainWindow:
    DictionaryWindow:


<LanguageBar>:
    size_hint_y: None
    height: 130
    md_bg_color: (1, 1, 1, 1)
    MDScreen:
        pos_hint: {'x':40/self.width, 'y': .20}
        MDRectangleFlatIconButton:
            markup: True
            text: "[size=48][b]English[/b][/size]"
            font_size:50
            icon: 'bookshelf'
            line_color: (0, 0, 0, 0)
            text_color: (0, 0, 0, 1)
            icon_color: (0, 0, 0, 1)


<DictionaryWindow>:
    name: 'dictionary_window'
    on_pre_enter: self.load_dict()
    MDBoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            md_bg_color: (0, 166/255, 1, 0.75)
            elevation: 0
            left_action_items: 
                [["playlist-plus", 
                lambda x: root.add_new_card(), 
                "Add new word"]]
            right_action_items: 
                [["exit-to-app", 
                lambda x: app.exit_to_main_screen(),
                "Go back"]]

        MDScrollView:
            MDList:
                id: container


<MainWindow>:
    name: 'main_window'
    MDBoxLayout:
        orientation: 'vertical'
        # LanguageBar:
        MDTopAppBar:
            md_bg_color: (0, 166/255, 1, 0.75)
            elevation: 0
            title: 'ReaBoo'
            left_action_items: 
                [["bookshelf", 
                lambda x: x]]
        MDFloatLayout:
            md_bg_color: (0, 166/255, 1, 0.25)
            MDRectangleFlatButton:
                id: learn_button
                markup: True
                text: "[size=48][b]Learn[/b][/size]"
                pos_hint: {'center_x': 0.5, 'center_y': 1300/1960}
                _min_width: 410
                _min_height: 150
                text_color: (0, 0, 0, 1)
                md_bg_color: (1,1,1,1)
                line_color: (0,0,0,0)
                on_release: 
            MDRectangleFlatButton:
                markup: True
                text: "[size=48][b]Edit[/b][/size]"
                pos_hint: {'center_x': 0.5,  'center_y': 900/1960}
                _min_width: learn_button._min_width
                _min_height: learn_button._min_height
                text_color: learn_button.text_color
                md_bg_color: learn_button.md_bg_color
                line_color: learn_button.line_color
                on_release: 
                    app.root.current = 'dictionary_window'
                    app.root.transition.direction = 'left'


<LineDictionary>:
    size_hint_y: None
    height: content.height

    MDCardSwipeLayerBox:
        padding: "8dp"
        md_bg_color: '#CE8081'
        MDIconButton:
            
            icon: "trash-can"
            pos_hint: {"center_y": .5}
            on_release: app.remove_item(root)

    MDCardSwipeFrontBox:
        radius: 0
        TwoLineAvatarListItem:
            id: content
            text: root.text
            secondary_text: root.secondary_text
            _no_ripple_effect: True


<NewCard>:
    id: new_card
    style: 'outlined'
    padding: "64dp"
    size_hint: 0.8, 0.8
    # size: "880dp", "1550dp"
    pos_hint: {'center_x': 0.5,  'center_y': 0.5}
    md_bg_color: (186/255, 210/255, 255/255, 1)

    MDRelativeLayout:

        MDIconButton:
            icon: "close"
            icon_size: '52pt'
            pos_hint: {"top": 1, "right": 1}
            on_release:
                app.root.children[0].close_card(new_card)
                # app.remove_card()

        MDRoundFlatButton:
            text: "[size=48]Save[/size]"
            text_color: "white"
            line_color: "47525E"
            pos_hint: {"bottom": 0.5, "center_x": 0.5}
            _min_width: 250
            _min_height: 100
            md_bg_color: '#47525E'
            disabled:  word.error or translation.error
            on_release:
                root.save_to_db(word = word.text, translation = translation.text)
                app.root.children[0].add_to_list_word_trans(word.text, translation.text)
                app.root.children[0].close_card(new_card)

        MDTextField:
            id: word
            hint_text: "New word"
            # font_name_hint_text: 'H1'
            helper_text: "Type a new word"
            _hint_lbl_font_size: '54pt'
            # mode:"rectangle"
            font_size: '24pt'
            required: True
            on_text: root.check_word()
            helper_text_mode: "on_focus"
            pos_hint: {'center_x': 0.5,  'center_y': 0.65}
            # helper_text_mode: "on_error"
            
        MDTextField:
            id: translation
            hint_text: "Translation"
            helper_text: "Type a translation for given word"
            helper_text_mode: "on_focus"
            required: True
            on_text: root.check_translations()
            font_size: '24pt'
            pos_hint: {'center_x': 0.5,  'center_y': 0.5}