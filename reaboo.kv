# : import NoTransition kivy.uix.screenmanager.NoTransition

<MyScreenManager>:
    # transition: NoTransition()
    MainWindow:
    DictionaryWindow:

<LanguageBar>:
    size_hint_y: None
    height: 130
    md_bg_color: (1, 1, 1, 1)
    MDScreen:
        pos_hint: {'x':40/self.width, 'y': .20}
        MDRectangleFlatIconButton:
            # pos_hint: {'center_x':150/self.width, 'center_y': .5}
            markup: True
            text: "[size=48][b]English[/b][/size]"
            font_size:50
            icon: 'bookshelf'
            line_color: (0, 0, 0, 0)
            text_color: (0, 0, 0, 1)
            icon_color: (0, 0, 0, 1)
    # MDScreen:
    #     pos_hint: {'x':960/self.width, 'y': .15}
    #     MDIconButton:
    #         icon: 'exit-to-app'
    #         icon_size: '52pt'


<DictionaryWindow>:
    name: 'dictionary_window'
    on_pre_enter: self.load_dict()
    MDBoxLayout:
        orientation: 'vertical'
        MDFloatLayout:
            size_hint_y: None
            height: 130
            md_bg_color: (0, 166/255, 1, 0.25)
            MDScreen:
                pos_hint: {'x':960/self.width, 'y': .15}
                MDIconButton:
                    icon: 'exit-to-app'
                    icon_size: '52pt'
                    on_release: 
                        app.root.current = 'main_window'
                        app.root.transition.direction = 'right'
                        root.ids.container.clear_widgets()

            MDScreen:
                pos_hint: {'x':40/self.width, 'y': .15}
                MDIconButton:
                    icon: 'playlist-plus'
                    icon_size: '52pt'
                    on_release:
                        root.add_new_card()
                    
                    
        MDScrollView:
            MDList:
                id: container
                # ThreeLineListItem:
                #     text: "Three-line item"
                #     secondary_text: "This is a multi-line label where you can"
                #     tertiary_text: "fit more text than usual"
        # NewCard:


<MainWindow>:
    name: 'main_window'
    MDBoxLayout:
        orientation: 'vertical'

        LanguageBar:

        MDFloatLayout:
            md_bg_color: (0, 166/255, 1, 0.25)
            MDRectangleFlatButton:
                id: learn_button
                markup: True
                text: "[size=48][b]Learn[/b][/size]"
                pos_hint: {'center_x': 0.5, 'center_y': 1300/1960}
                _min_width: 410
                _min_height: 150
                text_color: (0, 0, 0, 1)
                md_bg_color: (1,1,1,1)
                line_color: (0,0,0,0)
                on_release: 
                
            MDRectangleFlatButton:
                markup: True
                text: "[size=48][b]Edit[/b][/size]"
                pos_hint: {'center_x': 0.5,  'center_y': 900/1960}
                _min_width: learn_button._min_width
                _min_height: learn_button._min_height
                text_color: learn_button.text_color
                md_bg_color: learn_button.md_bg_color
                line_color: learn_button.line_color
                on_release: 
                    app.root.current = 'dictionary_window'
                    app.root.transition.direction = 'left'
            
            # NewCard: 

<NewCard>:
    id: new_card
    style: 'outlined'
    padding: "64dp"
    size_hint: None, None
    size: "880dp", "1550dp"
    pos_hint: {'center_x': 0.5,  'center_y': 0.5}
    md_bg_color: (186/255, 210/255, 255/255, 1)

    MDRelativeLayout:

        MDIconButton:
            icon: "close"
            icon_size: '52pt'
            pos_hint: {"top": 1, "right": 1}
            on_release:
                app.root.children[0].close_card(new_card)
                # app.remove_card()

        MDRoundFlatButton:
            text: "[size=48]Save[/size]"
            text_color: "white"
            line_color: "47525E"
            pos_hint: {"bottom": 0.0, "right": 1}
            _min_width: 250
            _min_height: 100
            md_bg_color: '#47525E'
            on_release:
                root.save_to_db(word = word.text, translation = translation.text)

        MDRoundFlatButton:
            text: "[size=48]Delete[/size]"
            text_color: "white"
            line_color: "CE8081"
            pos_hint: {"bottom": 0.0, "left": 0.0}
            _min_width: 250
            _min_height: 100
            md_bg_color: '#CE8081'

        MDTextField:
            id: word
            hint_text: "New word"
            # font_name_hint_text: 'H1'
            helper_text: "Type a new word"
            _hint_lbl_font_size: '54pt'
            # mode:"rectangle"
            font_size: '24pt'
            required: True
            helper_text_mode: "on_focus"
            pos_hint: {'center_x': 0.5,  'center_y': 0.65}
            # helper_text_mode: "on_error"
            
        MDTextField:
            id: translation
            hint_text: "Translation"
            helper_text: "Type a translation for given word"
            helper_text_mode: "on_focus"
            required: True
            font_size: '24pt'
            pos_hint: {'center_x': 0.5,  'center_y': 0.5}

        #     multiline: True
        #     hint_text: "Example"
        #     pos_hint: {'center_x': 0.5,  'center_y': 0.3}